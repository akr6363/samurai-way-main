"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[535],{7535:function(e,t,s){s.r(t),s.d(t,{default:function(){return ye}});var o,n,i,r,a=s(5671),l=s(3144),c=s(136),u=s(5716),d=s(2791),p=s(168),f=s(885),h={profile:"ProfileInfo_profile__LbuuB",user:"ProfileInfo_user__NB9Tr",user__info:"ProfileInfo_user__info__EQ3zd",user__title:"ProfileInfo_user__title__9p5si",user__subtitle:"ProfileInfo_user__subtitle__ogBPu",user__photo:"ProfileInfo_user__photo__BtEi5",noInfo:"ProfileInfo_noInfo__62i+7",editProfileBtn:"ProfileInfo_editProfileBtn__QyEiG",jobIcon:"ProfileInfo_jobIcon__v7CBK",profile_text:"ProfileInfo_profile_text__Mb4VS",profile_text_job:"ProfileInfo_profile_text_job__dM34A"},m=s(3787),x=s(2050),_=s(4088),j=s(1747),v=s(184),P=function(e){var t=(0,d.useState)(!1),s=(0,f.Z)(t,2),o=s[0],n=s[1],i=(0,d.useState)(e.status),r=(0,f.Z)(i,2),a=r[0],l=r[1],c=(0,d.useRef)(null);console.log(o),(0,d.useEffect)((function(){l(e.status)}),[e.status]);return(0,v.jsx)(g,{children:o?(0,v.jsx)(b,{autoFocus:!0,value:a,onBlur:function(){e.updateStatus(a).then((function(){n(!1)})).catch((function(e){c.current&&c.current.focus()}))},onChange:function(e){l(e.currentTarget.value)},onFocus:function(e){e.currentTarget.select()},ref:c}):(0,v.jsx)(Z,{onDoubleClick:function(){n(!0)},children:e.status||"No status"})})},Z=_.ZP.span(o||(o=(0,p.Z)(["\n  \n  display: block;\n  margin-bottom: 15px;\n  font-size: 16px;\n  word-wrap: break-word;\n  padding: 5px 0;\n  &:hover {\n    background-color: rgba(161, 161, 161, 0.56);\n  }\n"]))),b=(0,_.ZP)(j.Z)(n||(n=(0,p.Z)(["\n  font-family: Roboto,sans-serif;\n  padding: 5px 0;\n  width: 100%;\n  outline: none;\n  border: none;\n  font-size: 16px;\n  margin-bottom: 2px;\n  resize: none;\n  &:focus {\n    outline: none;\n    border: none;\n  }\n"]))),g=_.ZP.div(i||(i=(0,p.Z)(["\n  //max-width: 100%;\n"]))),N=s(7078),C=s(9373),z=s(6392),y=function(e){var t=e.onChange,s=d.useRef(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(N.Z,{type:"file",inputRef:s,onChange:t,style:{display:"none"}}),(0,v.jsx)(C.Z,{onClick:function(){s.current&&s.current.click()},startIcon:(0,v.jsx)(z.Z,{}),style:{textTransform:"none"},children:"Edit photo"})]})},I=s(6139),k=s(704),M={editProfileForm:"EditProdfileForm_editProfileForm__+BpvN",saveButton:"EditProdfileForm_saveButton__YqOZM"},S=s(7489),F=s(3079),w=(0,F.DT)(30),B=function(e){var t=e.title;return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsxs)("b",{children:[t,":"]})}),(0,v.jsx)("td",{children:(0,v.jsx)(I.Z,{name:"contacts."+t,component:S.Z1,variant:"outlined",validate:[]})})]})},A=(0,k.Z)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.error,o=e.profile;return(0,v.jsxs)("form",{onSubmit:t,className:M.editProfileForm,children:[(0,v.jsx)("table",{style:{width:"100%"},children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)("b",{children:"Full name:"})}),(0,v.jsx)("td",{children:(0,v.jsx)(I.Z,{name:"fullName",component:S.Z1,variant:"outlined",validate:[F.C1,w]})})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)("b",{children:"About me:"})}),(0,v.jsx)("td",{children:(0,v.jsx)(I.Z,{name:"aboutMe",component:S.Z1,variant:"outlined",validate:[F.C1]})})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)("b",{children:"My skills:"})}),(0,v.jsx)("td",{children:(0,v.jsx)(I.Z,{name:"lookingForAJobDescription",component:S.Z1,variant:"outlined",validate:[F.C1]})})]}),(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)("b",{children:"Looking for a job:"})}),(0,v.jsx)("td",{children:(0,v.jsx)(I.Z,{name:"lookingForAJob",component:S.jW})})]}),Object.keys(o.contacts).map((function(e){return(0,v.jsx)(B,{title:e},e)}))]})}),s&&(0,v.jsx)("div",{className:M.formSummaryError,children:s}),(0,v.jsx)(C.Z,{type:"submit",variant:"contained",className:M.saveButton,size:"small",children:"Save"})]})})),T=s(872),D=s(5130);function E(e){var t,s=e.profile,o=e.status,n=e.updateStatus,i=e.isMe,r=e.changePhoto,a=e.isFetching,l=e.updateProfile;return s?(0,v.jsx)("div",{className:h.profile,children:(0,v.jsxs)("div",{className:h.user,children:[(0,v.jsxs)("div",{className:h.user__photo,children:[a?(0,v.jsx)(m.p,{}):(0,v.jsx)("img",{src:null!==(t=s.photos.large)&&void 0!==t?t:x,alt:"users photo",className:h.photo__img}),i&&(0,v.jsx)(y,{onChange:function(e){var t;null!==(t=e.currentTarget.files)&&void 0!==t&&t.length&&r(e.currentTarget.files[0])}})]}),(0,v.jsxs)("div",{className:h.user__info,children:[(0,v.jsx)("h3",{className:h.user__title,children:s.fullName}),i?(0,v.jsx)(P,{status:o,updateStatus:n}):(0,v.jsx)(J,{children:o||"No status"}),(0,v.jsx)("hr",{}),(0,v.jsx)(H,{profile:s,updateProfile:l,isMe:i})]})]})}):(0,v.jsx)(m.p,{})}var H=function(e){var t=e.profile,s=e.updateProfile,o=e.isMe,n=(0,d.useState)(!1),i=(0,f.Z)(n,2),r=i[0],a=i[1];return r?(0,v.jsx)(A,{profile:t,initialValues:t,onSubmit:function(e){s(e)}}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("p",{className:h.profile_text,children:[(0,v.jsx)("b",{children:"About me:"})," ",t.aboutMe?t.aboutMe:(0,v.jsx)("span",{className:h.noInfo,children:"No information"})]}),(0,v.jsxs)("p",{className:h.profile_text_job,children:[(0,v.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?(0,v.jsx)(T.Z,{className:h.jobIcon}):(0,v.jsx)(D.Z,{className:h.jobIcon})]}),(0,v.jsxs)("p",{className:h.profile_text,children:[(0,v.jsx)("b",{children:"My skills:"})," ",t.lookingForAJobDescription?t.lookingForAJobDescription:(0,v.jsx)("span",{className:h.noInfo,children:"No information"})]}),(0,v.jsx)("hr",{}),(0,v.jsx)("h4",{className:h.user__subtitle,children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return(0,v.jsx)(L,{title:e,value:t.contacts[e]?t.contacts[e]:"No information"},e)})),o&&(0,v.jsx)(C.Z,{type:"submit",variant:"outlined",onClick:function(){return a(!0)},size:"small",className:h.editProfileBtn,children:"Edit"})]})},L=function(e){var t=e.title,s=e.value;return(0,v.jsxs)("p",{children:[(0,v.jsxs)("b",{children:[t,":"]})," ",(0,v.jsx)("span",{className:"No information"===s?h.noInfo:"",children:s})]})},J=_.ZP.span(r||(r=(0,p.Z)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 16px;\n  word-wrap: break-word;\n"]))),O=s(7105),V=s(364),R="MyPosts_postsFormContainer__jNf7P",U="MyPosts_postsForm__photo__-wEtr",G="MyPosts_postForm__xtnmg",q="MyPosts_line__9zHu9",K="MyPosts_postButton__H6yOz",W="MyPosts_postFormActions__-M1IT",Y="MyPosts_posts__tpwqM",Q="Post_postContainer__c+iCH",$="Post_post__top__4Iwkv",X="Post_post__photo__Zh4vJ",ee="Post_post__info__rDTAm",te="Post_post__desc__3uWic",se="Post_post__data__ZaZKK",oe="Post_post__6BIJc",ne="Post_post__text__YHJ4l",ie="Post_post__reactions__CGxA9",re="Post_reactionBtn__iw69W",ae="Post_like__Pq+H7",le=s(7488),ce=s(3579),ue=s(3164),de=s(7237),pe=function(e){var t=e.post,s=e.photo,o=e.name,n=(0,d.useState)(t.likeCount),i=(0,f.Z)(n,2),r=i[0],a=i[1],l=(0,d.useState)(!1),c=(0,f.Z)(l,2),u=c[0],p=c[1];return(0,v.jsxs)("div",{className:Q,children:[(0,v.jsxs)("div",{className:$,children:[(0,v.jsx)("div",{className:X,children:(0,v.jsx)("img",{src:s||x,alt:""})}),(0,v.jsxs)("div",{className:ee,children:[(0,v.jsx)("h3",{className:te,children:o}),(0,v.jsx)("p",{className:se,children:t.date})]})]}),(0,v.jsxs)("div",{className:oe,children:[(0,v.jsx)("p",{className:ne,children:t.message}),(0,v.jsxs)("div",{className:ie,children:[(0,v.jsx)(C.Z,{variant:"text",startIcon:u?(0,v.jsx)(de.Z,{}):(0,v.jsx)(le.Z,{}),className:"".concat(re," ").concat(u?ae:""),onClick:function(){u?(p(!1),a(r-1)):(p(!0),a(r+1))},children:r}),(0,v.jsx)(C.Z,{variant:"text",startIcon:(0,v.jsx)(ue.Z,{}),className:re,children:t.comments}),(0,v.jsx)(C.Z,{variant:"text",startIcon:(0,v.jsx)(ce.Z,{}),className:re,children:t.views})]})]})]})},fe=s(1911),he=s(2868),me=s(6603),xe=s(3400),_e=((0,F.DT)(1e3),(0,k.Z)({form:"my-posts"})((function(e){var t=e.handleSubmit;return(0,v.jsxs)("form",{onSubmit:t,className:G,children:[(0,v.jsx)(I.Z,{label:"Your news",name:"post",component:S.kc}),(0,v.jsx)("div",{className:q}),(0,v.jsxs)("div",{className:W,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(xe.Z,{"aria-label":"delete",size:"small",children:(0,v.jsx)(fe.Z,{fontSize:"small"})}),(0,v.jsx)(xe.Z,{"aria-label":"delete",size:"small",children:(0,v.jsx)(he.Z,{fontSize:"small"})}),(0,v.jsx)(xe.Z,{"aria-label":"delete",size:"small",children:(0,v.jsx)(me.Z,{fontSize:"small"})})]}),(0,v.jsx)(C.Z,{variant:"contained",type:"submit",size:"small",className:K,children:"Send"})]})]})}))),je=s(2381),ve=d.memo((function(e){var t=e.postsData.map((function(t){return(0,v.jsx)(pe,{post:t,photo:e.profilePhoto,name:e.name},t.id)}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:R,children:[(0,v.jsx)("div",{className:U,children:(0,v.jsx)("img",{src:e.profilePhoto?e.profilePhoto:x,alt:""})}),(0,v.jsx)(_e,{onSubmit:function(t,s){e.addPost(t.post),s((0,je.mc)("my-posts"))}})]}),(0,v.jsx)("div",{className:Y,children:t})]})})),Pe=(0,V.$j)((function(e){var t,s;return{postsData:e.profilePage.postsData,profilePhoto:null===(t=e.profilePage.profile)||void 0===t?void 0:t.photos.small,name:null===(s=e.profilePage.profile)||void 0===s?void 0:s.fullName}}),(function(e){return{addPost:function(t){e((0,O.Pi)(t))}}}))(ve),Ze=function(e){var t=e.profile,s=e.status,o=e.updateStatus,n=e.isMe,i=e.isFetching,r=e.changePhoto,a=e.updateProfile;return i?(0,v.jsx)("div",{className:"page",children:(0,v.jsx)(m.p,{})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(E,{profile:t,status:s,updateStatus:o,isMe:n,changePhoto:r,isFetching:i,updateProfile:a}),n&&(0,v.jsx)(Pe,{})]})},be=s(9271),ge=s(7781),Ne=s(4879),Ce=function(e){(0,c.Z)(s,e);var t=(0,u.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).getProfile=function(){var t=e.props.match.params.userId;!t&&e.props.authorizedUserI?t=e.props.authorizedUserI.toString():t||e.props.authorizedUserI||e.props.history.push("/login"),t&&(e.props.getProfileTC(t),e.props.getStatusTC(t))},e}return(0,l.Z)(s,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.getProfile()}},{key:"render",value:function(){var e;return(0,v.jsx)(Ze,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusTC,isMe:(null===(e=this.props.profile)||void 0===e?void 0:e.userId)===this.props.authorizedUserI,isFetching:this.props.isFetching,changePhoto:this.props.changePhoto,updateProfile:this.props.updateProfile})}}]),s}(d.Component),ze={getProfileTC:O.GA,getStatusTC:O.GP,updateStatusTC:O.OG,changePhoto:O.c6,updateProfile:O.ck},ye=(0,ge.qC)((0,V.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserI:e.auth.userId,isAuth:e.auth.isAuth,isFetching:(0,Ne.ab)(e)}}),ze),be.EN)(Ce)},6603:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"}),"Audiotrack");t.Z=r},2868:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)([(0,i.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,i.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"1")],"CameraAlt");t.Z=r},6392:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.06 17v-2.01H12c-1.28 0-2.56-.49-3.54-1.46-1.71-1.71-1.92-4.35-.64-6.29l1.1 1.1c-.71 1.33-.53 3.01.59 4.13.7.7 1.62 1.03 2.54 1.01v-2.14l2.83 2.83L12.06 19zm4.11-4.24-1.1-1.1c.71-1.33.53-3.01-.59-4.13C13.79 8.84 12.9 8.5 12 8.5h-.06v2.15L9.11 7.83 11.94 5v2.02c1.3-.02 2.61.45 3.6 1.45 1.7 1.7 1.91 4.35.63 6.29z"}),"ChangeCircle");t.Z=r},3164:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}),"ChatBubbleOutline");t.Z=r},872:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=r},5130:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=r},7237:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=r},7488:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=r},1911:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");t.Z=r},3579:function(e,t,s){var o=s(1941);t.Z=void 0;var n=o(s(5649)),i=s(184),r=(0,n.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");t.Z=r}}]);
//# sourceMappingURL=535.32540461.chunk.js.map